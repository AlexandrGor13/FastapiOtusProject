### Описание проекта *FastapiOtusProject*

Данный проект создан в рамках курса *Python Developer. Professional* от OTUS и представляет собой комплексное решение, объединяющее функциональность RESTful API с возможностями машинного обучения и обработки изображений. Основная цель проекта заключается в предоставлении удобного интерфейса для взаимодействия с системой авторизации, управлением пользователями и анализа изображений с использованием моделей глубокого обучения.

#### Структура проекта

Проект организован следующим образом:
```
├── api_deepface # Модуль для обработки изображений с использованием библиотеки DeepFace
│   ├── api.py # Основной файл API для работы с моделями DeepFace
│   ├── config.py # Конфигурационные настройки модуля
│   ├── Dockerfile # Docker конфигурация для контейнера API
│   ├── get_models.sh # Скрипт для загрузки моделей
│   ├── main.py # Главный исполняемый скрипт модуля
│   └── requirements.txt # Список зависимостей Python
├── api_kandinsky # Модуль для генерации изображений с использованием нейросети Kandinsky
│   ├── api.py # Основной файл API для работы с моделью Kandinsky
│   ├── config.py # Конфигурационные настройки модуля
│   ├── Dockerfile # Docker конфигурация для контейнера API
│   ├── main.py # Главный исполняемый скрипт модуля
│   └── requirements.txt # Список зависимостей Python
├── app # Основное приложение FastAPI
│   ├── alembic.ini # Настройки Alembic для миграции базы данных
│   ├── api # Каталог с файлами API
│   │   ├── auth.py # Логика авторизации и аутентификации
│   │   ├── image.py # Обработчик запросов на обработку изображений
│   │   ├── __init__.py # Инициализационный файл пакета
│   │   ├── profiles.py # Управление профилями пользователей
│   │   ├── root.py # Роутер корневого пути приложения
│   │   └── users.py # Управление пользователями
│   ├── core # Ядро приложения
│   │   ├── admin.py # Адаптер для административной панели
│   │   ├── config.py # Конфигурационные настройки приложения
│   │   ├── __init__.py # Инициализационный файл пакета
│   │   ├── models # Каталог с моделями базы данных
│   │   │   ├── base.py # Базовая модель SQLAlchemy
│   │   │   ├── __init__.py # Инициализационный файл пакета
│   │   │   ├── profile.py # Модель профиля пользователя
│   │   │   └── user.py # Модель пользователя
│   │   ├── schemas # Каталог схем Pydantic
│   │   │   ├── __init__.py # Инициализационный файл пакета
│   │   │   ├── profile.py # Схема профиля пользователя
│   │   │   ├── token.py # Схема токена JWT
│   │   │   └── user.py # Схема пользователя
│   │   ├── security.py # Логика безопасности и защиты
│   │   └── store.py # Класс хранилища данных
│   ├── create_fastapi_app.py # Создатель экземпляра FastAPI
│   ├── crud # CRUD операции над базой данных
│   │   ├── base_crud.py # Базовые CRUD операции
│   │   ├── __init__.py # Инициализационный файл пакета
│   │   ├── profile.py # CRUD операции с профилем пользователя
│   │   └── user.py # CRUD операции с пользователями
│   ├── dependencies # Каталог зависимостей
│   │   ├── dependencies.py # Определение общих зависимостей
│   │   └──__init__.py # Инициализационный файл пакета
│   ├── Dockerfile # Docker конфигурация для основного приложения
│   ├── entrypoint.sh # Запуск скрипта входа в контейнер
│   ├── __init__.py # Инициализационный файл пакета
│   ├── main.py # Главная точка входа в приложение
│   ├── migrations # Каталог миграций базы данных
│   │   ├── env.py # Файл среды Alembic
│   │   ├── README # Инструкция по работе с миграциями
│   │   ├── script.py.mako # Шаблон миграции
│   │   └── versions # Версии миграций
│   │       ├── e14ec97473a7_initial_tables.py # Первоначальные таблицы
│   │       └── e4fbe212603b_add_admin.py # Добавление администратора
│   └── tests # Тесты приложения
│       ├── api_test.py # Тестирование API
│       ├── conftest.py # Конфигурация тестов
│       ├── crud_test.py # Тестирование CRUD операций
│       ├── __init__.py # Инициализационный файл пакета
│       └── store_test.py # Тестирование хранилища данных
├── docker-compose.yaml # Docker Compose конфигурация
├── Makefile # Автоматизированные команды сборки и запуска
├── pyproject.toml # Конфигурация менеджера пакетов uv
├── pytest.ini # Конфигурация тестирования
├── README.md # Документация проекта
└── uv.lock # Lock-файл uv
```
#### Ключевые компоненты

###### app

Основное приложение, построенное на FastAPI, включает следующие ключевые компоненты:

core/admin.py: Интеграция административной панели.
core/config.py: Глобальная конфигурация приложения.
core/models/base.py: Базовая модель SQLAlchemy.
core/schemas/token.py: Схема токенов JWT.
crud/user.py: Реализация CRUD операций для пользователей.
dependencies/dependencies.py: Определение зависимостей приложения.
migrations: alembic миграции для изменения структуры базы данных.

###### api_deepface

Модуль для обработки изображений с использованием библиотеки DeepFace. Включает предобученные модели для распознавания лиц, определения возраста, пола и выражения лица.

###### api_kandinsky

Модуль для генерации изображений с использованием модели Kandinsky. Предоставляет интерфейс для создания уникальных визуальных образов.

##### Функциональность

Проект поддерживает следующие функциональные возможности:

Авторизация и аутентификация: Поддержка JWT-токенов для безопасной передачи данных.
Управление пользователями: Создание, редактирование и удаление пользователей.
Обработка изображений: Распознавание лиц, определение возраста, пола и эмоционального состояния.
Генерация изображений: Создание новых изображений на основе описания и стилизованного аватара к фото.
Администрирование: Возможность администрирования через специальный эндпоинт /adminka.

##### Технологии

Основные технологии, используемые в проекте:

FastAPI: Высокопроизводительный веб-фреймворк для разработки API.
SQLAlchemy: ORM для работы с базами данных.
DeepFace: Библиотека для распознавания лиц и анализа изображений.
Kandinsky: Методология для генерации художественных изображений.
Docker: Контейнеризация приложений для упрощения развёртывания.
Alembic: Система миграций для структурных изменений базы данных.
PostgresQL: СУБД для хранения данных о пользователях.
Redis: СУБД для хранения JWT-токенов

##### Итог

Проект является универсальным решением для построения полнофункционального RESTful API с поддержкой авторизации, обработки изображений и генерации контента. Благодаря модульной структуре и четкому разделению ответственности компонентов, он легко масштабируется и адаптируется под различные требования.